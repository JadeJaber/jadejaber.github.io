---
published: true
layout: post
excerpt: description
categories: articles
share: true
tags:
  - linux
  - security
  - certificates
  - architecture theory
---
We are going to discuss in this article about the following concepts :
- Public/Private keys
- Certificates
- SHA algorithms
- RSA algorithms
- SSH
- Signature

> Any comments are welcomed, I'm not an expert, I'm just trying to sum up the why and how of those elements.


## Private & Public keys & asymmetric cryptography
**Definition** : Private and public keys are randomly generated characters. They are used to encrypt and decrypt messages. The privte key is never revealed to anyone whereas the public key may publicly revealed. 

A message encrypted with a private key may only be decrypted with the associated public key and vice versa. This is what we call **asymmetric cryptography**. Which means that only the messages which are encrypted with the public key are "secret" since the ones that are encrypted with the private key may decrypted by anyone who owns the public key which is publicly available.

A public/private key may be generated with such a command  : 
```shell
keytool -genkey -keyalg RSA -alias ssl -keystore keystore.jks -validity 360 -storepass changeit -keypass changeit -dname "cn=hostname, ou=test, o=test, c=XX"
```

**Options definitions** :
- keyalg : ###
- alias : The name of your public/private key pair.
- keystore : The store in which your private/public key pair will securiely saved => It's a safe
- validity : valdity of you public/private key pair
- storepass : password to read/modify/access your keystore
- keypass : Password to access your key pair
- dname : distinguished name associated to your key pair (these info are supposed to identify you as a unique server/person)


## Keystore & Trustore
**Definition** : Keystore & Trustsore are are mainly the same type of element. They are safes which contain private/keys/certificates and which are protected with a password. The keystore contains your public/private keys and certificates whereas the Truststore contains the certificates of the authorities or servers that you trust.

## Asymmetric vs symetric cryptography

**Définition** : A crypted communication may be done either with a symetric (a unique key) or an asymmetric (2 keys : private & public) cryptorpahy.  

**Pros and cons** : The problem with symetric cryptography is that a secured server who wants to receive encrypted messages (secured web server for instance) will have to generated a different encryption key for each server that need to communicate with it. If all other servers had the same encryption key, then they would all be able to decrypt each othes messages that they each send to the secured server (the secured web server). => This is why we need asymmetric cryptography (AC).

In order to have an AC the secured server need to send its public key to the sender. Here comes the man in the middle vulnerability : If the man in the middle catchd the public key of the secured server and sends its own public key to the sender, the sender would then encrypt its messages with the man in the middle's publick key. The man in the middle would then be able to decrypt the message with its own private key. And then encrypt it again with the secured server public key before sending that message back to the secured server. 

needs to have the public key of the secured server. 
Le chiffrement asymétrique pose le problème de la transmission de la clé publique qui pourrait être  captée par l'homme du milieu => Il se ferait alors passer par le détenteur de la clé privée et transmettra sa propre clé publique au destinataire. Du coup l'homme du milieu peut déchiffrer  les messages envoyés par le détenteur de la clé privée et peut surtout déchiffrer les messages envoyés par le détenteur de la clé publique. 

But symetric cryptography needs less CPU calculation then asymmetric cryptography.

## Signature
**Definition** : A signature is a digest (generated by a hashing algorithm as SHA1) of a message which is then encrypted using a private key.
 
 ## Tools 
- Open-ssl
-  keytool

 
 Link to Cheat sheets